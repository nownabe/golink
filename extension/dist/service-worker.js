(()=>{let e="golinkUrl";async function t(e){let t=new URL(e).host;console.log(`Updating redirect rule to ${t}`),await chrome.declarativeNetRequest.updateDynamicRules({removeRuleIds:[1],addRules:[{id:1,priority:1,action:{type:"redirect",redirect:{transform:{scheme:"https",host:t}}},condition:{urlFilter:"*://go/*",resourceTypes:["main_frame"]}}]})}async function a(){let a=(await chrome.storage.sync.get(e))[e];await t(a),chrome.storage.onChanged.addListener(async(a,n)=>{"sync"===n&&e in a&&await t(a[e].newValue)})}chrome.runtime.onInstalled.addListener(a)})();
//# sourceMappingURL=service-worker.js.map
